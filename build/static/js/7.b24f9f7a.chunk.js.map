{"version":3,"sources":["views/MovieDetailsPage/MovieDetailsPage.jsx","services/Api.jsx","views/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["MovieDetailsPage","state","movie","genres","isLoading","isActiveC","isActiveR","getMovies","movieId","props","match","params","setState","API","then","res","data","catch","err","Error","finally","setTimeout","toggleMenuC","toggleMenuR","onBackButton","history","goBack","this","className","style","container_page","type","onClick","button","container","src","poster_path","alt","info","movie_title","original_title","release_date","movie_score","vote_average","movie_overview_title","movie_overview","overview","movie_genres_title","movie_genres","map","item","name","container2","info_title","replace","cast","to","url","cast_narrow","path","routes","CAST","component","review","REVIEWS","Component","key","BasicURL","axios","get","searchMovie","query","getOneMovie","id","getCast","getReview","module","exports"],"mappings":"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","file":"static/js/7.b24f9f7a.chunk.js","sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { Route, NavLink, Switch } from 'react-router-dom';\nimport T from 'prop-types';\nimport * as API from '../../services/Api';\nimport routes from '../../routes/routes';\nimport Loader from '../../components/Loader/Loader';\nimport style from './MovieDetailsPage.module.css';\n\nclass MovieDetailsPage extends Component {\n  static propTypes = {\n    match: T.shape({\n      params: T.shape({\n        movieId: T.string,\n      }),\n      url: T.string,\n    }).isRequired,\n    history: T.shape({\n      goBack: T.func,\n      push: T.func,\n    }).isRequired,\n    location: T.instanceOf(Object).isRequired,\n  };\n\n  state = {\n    movie: { genres: [] },\n    isLoading: false,\n    isActiveC: false,\n    isActiveR: false,\n  };\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = () => {\n    const { match } = this.props;\n    const { movieId } = match.params;\n    this.setState({ isLoading: true });\n\n    API.getOneMovie(movieId)\n      .then(res => this.setState({ movie: res.data }))\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          this.setState({ isLoading: false });\n        }, 1000);\n      });\n  };\n\n  toggleMenuC = () => {\n    const { isActiveC } = this.state;\n    this.setState({\n      isActiveC: !isActiveC,\n    });\n  };\n\n  toggleMenuR = () => {\n    const { isActiveR } = this.state;\n    this.setState({\n      isActiveR: !isActiveR,\n    });\n  };\n\n  onBackButton = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { movie, isLoading, isActiveC, isActiveR } = this.state;\n    const { match } = this.props;\n\n    return (\n      <>\n        <div className={style.container_page}>\n          {isLoading && <Loader />}\n          <button\n            type=\"button\"\n            onClick={this.onBackButton}\n            className={style.button}\n          >\n            Back\n          </button>\n          <div className={style.container}>\n            <img\n              src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n              alt=\"\"\n            />\n            <div className={style.info}>\n              <h2 className={style.movie_title}>\n                {movie.original_title} ({movie.release_date})\n              </h2>\n              <p className={style.movie_score}>\n                User score: {movie.vote_average * 10}%\n              </p>\n              <h3 className={style.movie_overview_title}>Overview</h3>\n\n              <p className={style.movie_overview}>{movie.overview}</p>\n              <h3 className={style.movie_genres_title}>Genres</h3>\n              <p className={style.movie_genres}>\n                {movie.genres.map(item => ` ${item.name} `)}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className={style.container2}>\n          <h3 className={style.info_title}>Additional information</h3>\n          <Suspense>\n            <NavLink\n              replace\n              onClick={this.toggleMenuC}\n              className={style.cast}\n              to={`${match.url}/cast`}\n            >\n              <span className={style.cast_narrow}></span> Cast\n            </NavLink>\n            <p />\n            {isActiveC ? (\n              <Route\n                path={routes.CAST.path}\n                component={routes.CAST.component}\n              />\n            ) : (\n              ``\n            )}\n            <NavLink\n              replace\n              onClick={this.toggleMenuR}\n              className={style.review}\n              to={`${match.url}/reviews`}\n            >\n              <span className={style.cast_narrow}> </span>Reviews\n            </NavLink>\n            {isActiveR ? (\n              <Route\n                path={routes.REVIEWS.path}\n                component={routes.REVIEWS.component}\n              />\n            ) : (\n              ``\n            )}\n          </Suspense>\n        </div>\n      </>\n    );\n  }\n}\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst key = 'b1648042610c64f00a2ab552825d5d65';\nconst BasicURL = 'https://api.themoviedb.org/3';\n\nconst getMovies = () =>\n  axios.get(`${BasicURL}/trending/movie/week?api_key=${key}`);\n\nconst searchMovie = query =>\n  axios.get(`${BasicURL}/search/movie?api_key=${key}&query=${query}`);\n\nconst getOneMovie = id => axios.get(`${BasicURL}/movie/${id}?api_key=${key}`);\n\nconst getCast = id =>\n  axios.get(`${BasicURL}/movie/${id}/credits?api_key=${key}`);\n\nconst getReview = id =>\n  axios.get(\n    `${BasicURL}/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`,\n  );\n\nexport { getMovies, searchMovie, getOneMovie, getCast, getReview };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__2pS-_\",\"button\":\"MovieDetailsPage_button__2yIpR\",\"info\":\"MovieDetailsPage_info__2D1ex\",\"movie_title\":\"MovieDetailsPage_movie_title__3LVEE\",\"movie_score\":\"MovieDetailsPage_movie_score__GgthM\",\"movie_overview_title\":\"MovieDetailsPage_movie_overview_title__hW2Wh\",\"info_title\":\"MovieDetailsPage_info_title__3KbNv\",\"movie_genres_title\":\"MovieDetailsPage_movie_genres_title__qa10C\",\"movie_overview\":\"MovieDetailsPage_movie_overview__1jRXQ\",\"movie_genres\":\"MovieDetailsPage_movie_genres__26lXu\",\"cast\":\"MovieDetailsPage_cast__3cL7X\",\"review\":\"MovieDetailsPage_review__izb6p\",\"cast_narrow\":\"MovieDetailsPage_cast_narrow__1Dj6l\",\"container2\":\"MovieDetailsPage_container2__1Iftz\"};"],"sourceRoot":""}